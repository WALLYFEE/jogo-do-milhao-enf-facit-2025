<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üéØ Jogo do Milh√£o ‚Äî Placenta Pr√©via</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
      :root {
        --bg: #0b1120;
        --panel: #111827;
        --panel-2: #1f2937;
        --text: #f9fafb;
        --muted: #9ca3af;
        --accent: #22c55e;
        --warn: #ef4444;
        --brand: #06b6d4;
        --yellow: #eab308;
        --purple: #8b5cf6;
        --pink: #ec4899;
        --orange: #f97316;
      }
      
      * {
        box-sizing: border-box;
      }
      
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      @keyframes pulse {
        0%, 100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }
      
      @keyframes glow {
        0%, 100% {
          box-shadow: 0 0 20px rgba(34, 197, 94, 0.3);
        }
        50% {
          box-shadow: 0 0 30px rgba(34, 197, 94, 0.6);
        }
      }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-5px); }
        75% { transform: translateX(5px); }
      }
      
      body {
        margin: 0;
        min-height: 100vh;
        background: 
          radial-gradient(circle at 20% 80%, rgba(139, 92, 246, 0.15) 0%, transparent 50%),
          radial-gradient(circle at 80% 20%, rgba(6, 182, 212, 0.15) 0%, transparent 50%),
          radial-gradient(1200px 800px at 70% -10%, #1e293b 0%, #0b1120 50%, #0b1120 100%);
        color: var(--text);
        font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
        overflow-x: hidden;
        scroll-behavior: smooth;
      }
      
      * {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      *:focus {
        outline: 2px solid var(--brand);
        outline-offset: 2px;
      }
      
      body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffffff' fill-opacity='0.02' fill-rule='evenodd'%3E%3Cpath d='m0 40l40-40h-40v40zm40 0v-40h-40l40 40z'/%3E%3C/g%3E%3C/svg%3E");
        pointer-events: none;
        z-index: -1;
      }
      .wrap {
        max-width: 1200px;
        margin: 0 auto;
        padding: 24px;
        animation: fadeInUp 0.6s ease-out;
      }
      
      header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 24px;
        margin-bottom: 24px;
        padding: 24px 32px;
        background: 
          linear-gradient(135deg, rgba(17, 24, 39, 0.95), rgba(31, 41, 55, 0.85)),
          radial-gradient(circle at top right, rgba(6, 182, 212, 0.1), transparent 50%);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.15);
        border-radius: 24px;
        box-shadow: 
          0 20px 60px rgba(0, 0, 0, 0.4),
          inset 0 1px 0 rgba(255, 255, 255, 0.1);
        position: relative;
        overflow: hidden;
      }
      
      header::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(90deg, 
          transparent 0%, 
          var(--brand) 20%, 
          var(--purple) 50%, 
          var(--pink) 80%, 
          transparent 100%);
        opacity: 0.8;
      }
      
      .title {
        font-size: clamp(18px, 2.5vw, 28px);
        font-weight: 900;
        letter-spacing: -0.5px;
        display: flex;
        align-items: center;
        gap: 16px;
        position: relative;
        white-space: nowrap;
      }
      
      .title-text {
        background: linear-gradient(135deg, #ffffff, #06b6d4, #8b5cf6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      
      .title::before {
        content: 'üéØ';
        font-size: 1.2em;
        filter: drop-shadow(0 0 10px rgba(6, 182, 212, 0.6));
        animation: pulse 2s infinite;
      }
      
      .badge {
        background: linear-gradient(135deg, var(--brand), #22d3ee, var(--purple));
        color: #ffffff !important;
        padding: 0.5rem 1rem;
        border-radius: 999px;
        font-weight: 700;
        font-size: 0.85em;
        box-shadow: 
          0 4px 20px rgba(6, 182, 212, 0.4),
          inset 0 1px 0 rgba(255, 255, 255, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.2);
        position: relative;
        overflow: hidden;
        z-index: 2;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        -webkit-text-fill-color: #ffffff !important;
        -webkit-background-clip: border-box !important;
        background-clip: border-box !important;
      }
      
      .badge::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        animation: shimmer 3s infinite;
      }

      /* Lateral de apresentadoras (fixa, n√£o altera layout) */
      .presenters-sidebar {
        position: fixed;
        left: 18px;
        top: 96px;
        width: 260px;
        bottom: 24px;
        padding: 20px;
        background: linear-gradient(180deg, rgba(17,24,39,0.9), rgba(31,41,55,0.85));
        border: 1px solid rgba(255,255,255,0.04);
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        color: var(--muted);
        z-index: 5;
        overflow: auto;
      }

      .presenters-sidebar .ps-title {
        color: var(--brand);
        font-weight: 800;
        margin-bottom: 8px;
        font-size: 0.95rem;
      }

      .presenters-sidebar .ps-discipline {
        font-size: 0.85rem;
        color: var(--muted);
        margin-bottom: 12px;
      }

      .presenters-sidebar ol {
        margin: 0;
        padding: 0 0 0 18px;
        list-style: decimal;
        color: var(--text);
      }

      .presenters-sidebar ol li {
        margin-bottom: 10px;
        font-size: 0.95rem;
        line-height: 1.2;
      }

      @media (max-width: 1100px) {
        /* Esconder a lateral em telas menores para n√£o quebrar layout */
        .presenters-sidebar { display: none; }
      }
      
      @keyframes shimmer {
        0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
        100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
      }
      .controls {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 12px;
        max-width: 600px;
      }
      
      @media (max-width: 1024px) {
        .controls {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      
      @media (max-width: 640px) {
        .controls {
          grid-template-columns: 1fr;
          max-width: 200px;
        }
      }
      
      button {
        background: rgba(17, 24, 39, 0.8);
        backdrop-filter: blur(10px);
        color: var(--text);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 16px;
        padding: 14px 20px;
        font-weight: 700;
        font-size: 0.9em;
        letter-spacing: 0.3px;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 
          0 4px 20px rgba(0, 0, 0, 0.3),
          inset 0 1px 0 rgba(255, 255, 255, 0.1);
        position: relative;
        overflow: hidden;
        white-space: nowrap;
        min-height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }
      
      button::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        transition: left 0.5s;
      }
      
      button:hover::before {
        left: 100%;
      }
      
      button:hover {
        transform: translateY(-2px);
        box-shadow: 
          0 8px 30px rgba(0, 0, 0, 0.4),
          inset 0 1px 0 rgba(255, 255, 255, 0.2);
      }
      
      button:active {
        transform: translateY(0);
      }
      
      .btn-primary {
        background: linear-gradient(135deg, #0ea5e9, #0284c7, #8b5cf6);
        border-color: #0369a1;
        box-shadow: 0 4px 20px rgba(14, 165, 233, 0.4);
      }
      
      .btn-primary:hover {
        box-shadow: 0 8px 30px rgba(14, 165, 233, 0.6);
      }
      
      .btn-accent {
        background: linear-gradient(135deg, #22c55e, #16a34a, #15803d);
        border-color: #15803d;
        box-shadow: 0 4px 20px rgba(34, 197, 94, 0.4);
      }
      
      .btn-accent:hover {
        box-shadow: 0 8px 30px rgba(34, 197, 94, 0.6);
      }
      
      .btn-warn {
        background: linear-gradient(135deg, #ef4444, #dc2626, #b91c1c);
        border-color: #b91c1c;
        box-shadow: 0 4px 20px rgba(239, 68, 68, 0.4);
      }
      
      .btn-warn:hover {
        box-shadow: 0 8px 30px rgba(239, 68, 68, 0.6);
      }
      
      .btn-ghost {
        background: rgba(51, 65, 85, 0.3);
        border-color: rgba(255, 255, 255, 0.2);
      }
      
      .btn-ghost:hover {
        background: rgba(51, 65, 85, 0.5);
      }

      .stage {
        background: 
          linear-gradient(135deg, rgba(17, 24, 39, 0.9), rgba(11, 18, 32, 0.95)),
          radial-gradient(circle at top right, rgba(139, 92, 246, 0.1), transparent 50%);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 24px;
        padding: 30px;
        box-shadow: 
          0 20px 60px rgba(0, 0, 0, 0.5),
          inset 0 1px 0 rgba(255, 255, 255, 0.1);
        position: relative;
        overflow: hidden;
      }
      
      .stage::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(90deg, transparent, rgba(6, 182, 212, 0.8), transparent);
      }
      
      .meta {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 20px;
        margin-bottom: 20px;
        padding: 15px 20px;
        background: rgba(31, 41, 55, 0.5);
        border-radius: 16px;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      
      .meta .progress {
        font-weight: 700;
        font-size: 1.1em;
        color: var(--text);
        background: linear-gradient(135deg, #06b6d4, #8b5cf6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      
      .timer {
        display: flex;
        align-items: center;
        gap: 12px;
      }
      
      .ring {
        width: 72px;
        height: 72px;
        border-radius: 50%;
        background: conic-gradient(
          var(--yellow) calc(var(--pct) * 1%),
          rgba(17, 24, 39, 0.8) 0
        );
        display: grid;
        place-items: center;
        border: 3px solid rgba(255, 255, 255, 0.2);
        box-shadow: 
          0 0 30px rgba(234, 179, 8, 0.3),
          inset 0 0 20px rgba(0, 0, 0, 0.3);
        position: relative;
        transition: all 0.3s ease;
      }
      
      .ring::before {
        content: '';
        position: absolute;
        inset: -3px;
        border-radius: 50%;
        padding: 3px;
        background: linear-gradient(45deg, var(--yellow), var(--orange), var(--pink));
        -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: subtract;
        mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        mask-composite: subtract;
        opacity: 0.6;
      }
      
      .ring span {
        font-weight: 900;
        font-size: 22px;
        color: var(--text);
        text-shadow: 0 0 10px rgba(234, 179, 8, 0.8);
        z-index: 1;
      }

      .question {
        font-size: clamp(22px, 2.8vw, 32px);
        font-weight: 800;
        line-height: 1.3;
        margin: 20px 0 24px;
        padding: 20px;
        background: rgba(31, 41, 55, 0.6);
        border-radius: 18px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        text-align: center;
        animation: fadeInUp 0.5s ease-out;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      }
      
      .answers {
        display: grid;
        grid-template-columns: 1fr;
        gap: 16px;
        animation: fadeInUp 0.6s ease-out 0.1s both;
      }
      
      @media (min-width: 900px) {
        .answers {
          grid-template-columns: 1fr 1fr;
        }
      }

      .opt {
        position: relative;
        background: 
          linear-gradient(135deg, rgba(31, 41, 55, 0.8), rgba(14, 22, 37, 0.9)),
          radial-gradient(circle at top left, rgba(6, 182, 212, 0.1), transparent 60%);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 18px 20px;
        font-size: clamp(16px, 2vw, 18px);
        display: flex;
        gap: 14px;
        align-items: center;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        overflow: hidden;
      }
      
      .opt::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.05), transparent);
        transition: left 0.6s;
      }
      
      .opt:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
        border-color: rgba(6, 182, 212, 0.5);
      }
      
      .opt:hover::before {
        left: 100%;
      }
      
      .opt strong {
        background: linear-gradient(135deg, #0ea5e9, #06b6d4);
        color: #ffffff;
        padding: 8px 12px;
        border-radius: 12px;
        font-size: 0.9em;
        min-width: 40px;
        text-align: center;
        font-weight: 800;
        box-shadow: 0 2px 10px rgba(6, 182, 212, 0.3);
        flex-shrink: 0;
      }
      
      .opt.correct {
        background: 
          linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(22, 163, 74, 0.3)),
          radial-gradient(circle at center, rgba(34, 197, 94, 0.1), transparent 70%);
        border: 2px solid var(--accent);
        box-shadow: 
          0 0 0 4px rgba(34, 197, 94, 0.2),
          0 8px 32px rgba(34, 197, 94, 0.4);
        animation: glow 1.5s ease-in-out infinite;
        transform: scale(1.02);
      }
      
      .opt.correct strong {
        background: linear-gradient(135deg, var(--accent), #16a34a);
        box-shadow: 0 0 20px rgba(34, 197, 94, 0.5);
      }
      
      .opt.incorrect {
        background: 
          linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(220, 38, 38, 0.3)),
          radial-gradient(circle at center, rgba(239, 68, 68, 0.1), transparent 70%);
        border: 2px solid var(--warn);
        box-shadow: 
          0 0 0 4px rgba(239, 68, 68, 0.2),
          0 8px 32px rgba(239, 68, 68, 0.4);
        animation: shake 0.5s ease-in-out;
        opacity: 0.7;
      }
      
      .opt.incorrect strong {
        background: linear-gradient(135deg, var(--warn), #dc2626);
        box-shadow: 0 0 20px rgba(239, 68, 68, 0.5);
      }

      footer {
        margin-top: 24px;
        padding: 20px;
        background: rgba(31, 41, 55, 0.5);
        border-radius: 16px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        align-items: center;
        justify-content: center;
        text-align: center;
      }
      
      .hint {
        color: var(--muted);
        font-size: 0.95rem;
        line-height: 1.5;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
      }
      
      kbd {
        background: rgba(11, 18, 32, 0.8);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-bottom-width: 2px;
        border-radius: 8px;
        padding: 4px 8px;
        font-weight: 700;
        font-size: 0.85em;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        color: var(--brand);
      }

      .bar {
        height: 12px;
        background: rgba(11, 18, 32, 0.8);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 999px;
        overflow: hidden;
        margin: 16px 0;
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
        position: relative;
      }
      
      .bar::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      }
      
      .bar > div {
        height: 100%;
        background: linear-gradient(90deg, #eab308, #f59e0b, #f97316);
        width: 0%;
        transition: width 0.3s ease;
        position: relative;
        box-shadow: 0 0 20px rgba(234, 179, 8, 0.5);
      }
      
      .bar > div::after {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        width: 20px;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3));
        border-radius: 0 999px 999px 0;
      }
      
      @media (max-width: 768px) {
        header {
          flex-direction: column;
          text-align: center;
          gap: 20px;
          padding: 20px;
        }
        
        .title {
          font-size: clamp(16px, 4vw, 22px);
          flex-direction: column;
          gap: 12px;
        }
        
        .controls {
          justify-content: center;
          width: 100%;
        }
        
        .meta {
          flex-direction: column;
          text-align: center;
          gap: 12px;
        }
        
        .answers {
          grid-template-columns: 1fr;
        }
        
        .opt {
          padding: 16px 18px;
        }
        
        button {
          padding: 12px 16px;
          font-size: 0.85em;
          min-height: 44px;
        }
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <header>
        <div class="title">
          <span class="title-text">Jogo do Milh√£o ‚Äî</span> <span class="badge">Placenta Pr√©via</span>
        </div>
        <div class="controls">
          <button class="btn-ghost" id="fsBtn" title="Tela cheia (F)">
            ‚õ∂ Tela cheia
          </button>
          <button class="btn-primary" id="startBtn" title="Barra de espa√ßo">
            Iniciar 10s
          </button>
          <button class="btn-warn" id="revealBtn" title="R">Revelar</button>
          <button id="prevBtn" title="P">‚üµ Anterior</button>
          <button id="nextBtn" title="N">Pr√≥xima ‚ü∂</button>
          <button class="btn-ghost" id="audioBtn" title="Som">üîä Som</button>
        </div>
      </header>

      <div class="stage">
        <div class="meta">
          <div class="progress" id="progress">Pergunta 1 de 10</div>
          <div class="timer">
            <div class="ring" id="ring" style="--pct: 100">
              <span id="count">10</span>
            </div>
          </div>
        </div>

        <div class="bar"><div id="barFill"></div></div>

        <div class="question" id="question">Carregando‚Ä¶</div>
        <div class="answers" id="answers"></div>

        <footer>
          <div class="hint">
            Levante a plaquinha antes de <strong>10s</strong>! Ao final, clique em <strong>Revelar</strong> para mostrar a resposta.<br />
            Atalhos: <kbd>Espa√ßo</kbd> Iniciar/Reset ‚Ä¢ <kbd>R</kbd> Revelar ‚Ä¢
            <kbd>N</kbd> Pr√≥xima ‚Ä¢ <kbd>P</kbd> Anterior ‚Ä¢ <kbd>F</kbd> Tela
            cheia
          </div>
        </footer>
      </div>
    </div>

    <!-- Lateral de apresentadoras (n√£o altera a estrutura principal) -->
    <aside class="presenters-sidebar" aria-label="Apresentadoras">
      <div class="ps-title">Dicentes</div>   
      <ol>
        <li>ERIKA CRISTINA LEITE RODRIGUES</li>
        <li>LAURA AMARAL TAVARES CARREIRO</li>
        <li>LORENA JOSEFANNE MARTINS SOUSA</li>
        <li>MARIA CLARA BORGES GUIMAR√ÉES</li>
        <li>NATHALY LOPES BARRETO</li>
        <li>YASMIM ARA√öJO DIAS</li>
      </ol>
      <div class="ps-discipline">Disciplina: Assist√™ncia de enfermagem em obstetr√≠cia e neonatologia</div>
    </aside>

    <script>
      const quiz = [
        {
          q: "1Ô∏è‚É£ O que √© placenta pr√©via?",
          opts: [
            "Placenta implantada na parte superior do √∫tero",
            "Placenta implantada no segmento inferior do √∫tero",
            "Placenta ausente",
            "Placenta aderida √† parede posterior do √∫tero",
          ],
          correct: 1,
        },
        {
          q: "2Ô∏è‚É£ Qual √© o principal sintoma da placenta pr√©via?",
          opts: [
            "Dor abdominal intensa",
            "Sangramento vaginal vermelho",
            "Febre alta",
            "N√°useas e v√¥mitos persistentes",
          ], 
          correct: 1,
        },
        {
          q: "3Ô∏è‚É£ A placenta pr√©via pode obstruir parcialmente ou totalmente qual estrutura?",
          opts: [
            "Trompas uterinas",
            "Colo do √∫tero",
            "Ov√°rio direito",
            "Canal vaginal",
          ],
          correct: 1,
        },
        {
          q: "4Ô∏è‚É£ Qual exame √© o mais indicado para confirmar o diagn√≥stico de placenta pr√©via?",
          opts: [
            "Raio-X do abd√¥men",
            "Ultrassonografia, preferencialmente transvaginal",
            "Toque vaginal",
            "Resson√¢ncia magn√©tica",
          ],
          correct: 1,
        },
        {
          q: "5Ô∏è‚É£ O toque vaginal antes do diagn√≥stico √©:",
          opts: [
            "Permitido, pois ajuda no diagn√≥stico",
            "Contraindicado, pois pode causar hemorragia",
            "Obrigat√≥rio em todo atendimento",
            "Opcional, dependendo da idade gestacional",
          ],
          correct: 1,
        },
        {
          q: "6Ô∏è‚É£ Qual via de parto √© recomendada na maioria dos casos de placenta pr√©via?",
          opts: ["Ces√°rea", "Parto vaginal normal", "F√≥rceps","Parto induzido"],
          correct: 0,
        },
        {
          q: "7Ô∏è‚É£ Qual √© um importante fator de risco para placenta pr√©via?",
          opts: [
            "Baixa estatura materna",
            "Hist√≥rico de cesariana anterior",
            "Pr√°tica de exerc√≠cios f√≠sicos",
            "Alimenta√ß√£o rica em ferro",
          ],
          correct: 1,
        },
        {
          q: "8Ô∏è‚É£ Quando o sangramento da placenta pr√©via geralmente ocorre?",
          opts: [
            "Antes da 12¬™ semana",
            "Ap√≥s a 20¬™ semana de gesta√ß√£o",
            "Apenas ap√≥s o parto",
            "Durante o trabalho de parto inicial",
          ],
          correct: 1,
        },
        {
          q: "9Ô∏è‚É£ Como costuma estar o √∫tero na placenta pr√©via?",
          opts: [
            "R√≠gido e doloroso",
            "Macio e indolor",
            "Contra√ß√µes regulares",
            "Endurecido e sens√≠vel √† palpa√ß√£o",
          ],
          correct: 1,
        },
        {
          q: "üîü Qual cuidado de enfermagem √© essencial?",
          opts: [
            "Incentivar atividade f√≠sica intensa",
            "Monitorar sinais vitais e sangramento",
            "Realizar toque vaginal de rotina",
            "Suspender imediatamente a alimenta√ß√£o da gestante",
          ],
          correct: 1,
        },
      ];

      // Fun√ß√£o para embaralhar as alternativas de cada pergunta
      function shuffleQuestions() {
        quiz.forEach(item => {
          // Criar um array de objetos com o texto e o √≠ndice original
          const optsWithIndex = item.opts.map((opt, i) => ({
            text: opt,
            wasCorrect: i === item.correct
          }));
          
          // Embaralhar o array usando Fisher-Yates shuffle
          for (let i = optsWithIndex.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [optsWithIndex[i], optsWithIndex[j]] = [optsWithIndex[j], optsWithIndex[i]];
          }
          
          // Atualizar as op√ß√µes e o √≠ndice correto
          item.opts = optsWithIndex.map(opt => opt.text);
          item.correct = optsWithIndex.findIndex(opt => opt.wasCorrect);
        });
      }

      // Embaralhar as alternativas ao iniciar
      shuffleQuestions();

      let idx = 0;
      let time = 10;
      let timer = null;
      let revealed = false;

      const progress = document.getElementById("progress");
      const questionEl = document.getElementById("question");
      const answersEl = document.getElementById("answers");
      const countEl = document.getElementById("count");
      const ringEl = document.getElementById("ring");
      const barFill = document.getElementById("barFill");

      // √Åudio da intro "Um milh√£o de reais"
      const introAudio = new Audio();
      introAudio.src = "./intro-show-do-milhao.mp3";
      introAudio.volume = 0.7;
      introAudio.loop = false;
      
      // √Åudio da pergunta
      const questionAudio = new Audio();
      questionAudio.src = "./perguntashowdomilhao.mp3";
      questionAudio.volume = 0.6;
      questionAudio.loop = false;
      
      // √Åudio para quando o tempo acabar
      const timeUpAudio = new Audio();
      timeUpAudio.src = "./tempo-acabou-show-do-milhao.mp3";
      timeUpAudio.volume = 0.8;
      timeUpAudio.loop = false;
      
      let introPlayed = false;
      let audioEnabled = true;

      function playIntroAudio() {
        if (!introPlayed && audioEnabled) {
          introAudio.play().catch(e => {
            console.log("√Åudio bloqueado pelo browser, ser√° reproduzido na primeira intera√ß√£o");
          });
          introPlayed = true;
        }
      }

      function playQuestionAudio() {
        if (audioEnabled) {
          // Parar a intro se estiver tocando
          introAudio.pause();
          introAudio.currentTime = 0;
          
          // Tocar √°udio da pergunta
          questionAudio.currentTime = 0;
          questionAudio.play().catch(e => {
            console.log("Erro ao reproduzir √°udio da pergunta:", e);
          });
        }
      }

      function stopAllAudio() {
        introAudio.pause();
        questionAudio.pause();
        timeUpAudio.pause();
        
        introAudio.currentTime = 0;
        questionAudio.currentTime = 0;
        timeUpAudio.currentTime = 0;
      }

      // Fun√ß√£o para tentar reproduzir o √°udio automaticamente
      function autoPlayAudio() {
        if (audioEnabled) {
          introAudio.play().catch(e => {
            console.log("Autoplay bloqueado, aguardando intera√ß√£o do usu√°rio");
            // Se o autoplay falhar, tenta novamente na primeira intera√ß√£o
            document.addEventListener('click', playIntroAudio, { once: true });
            document.addEventListener('keydown', playIntroAudio, { once: true });
          });
          introPlayed = true;
        }
      }

      function render() {
        const item = quiz[idx];
        progress.textContent = `Pergunta ${idx + 1} de ${quiz.length}`;
        
        // Tocar intro audio quando muda de pergunta (exceto a primeira vez)
        if (audioEnabled && idx > 0) {
          stopAllAudio();
          setTimeout(() => {
            introAudio.play().catch(e => {
              console.log("Erro ao reproduzir intro:", e);
            });
          }, 500);
        }
        
        // Anima√ß√£o suave para a pergunta
        questionEl.style.opacity = '0';
        questionEl.style.transform = 'translateY(20px)';
        
        setTimeout(() => {
          questionEl.textContent = item.q;
          questionEl.style.opacity = '1';
          questionEl.style.transform = 'translateY(0)';
        }, 200);

        // Limpar e recriar as op√ß√µes com anima√ß√£o
        answersEl.innerHTML = "";
        
        item.opts.forEach((text, i) => {
          const div = document.createElement("div");
          div.className = "opt";
          const tag = ["A", "B", "C", "D", "E"][i] || String.fromCharCode(65 + i);
          div.innerHTML = `<strong>${tag}</strong> <span>${text}</span>`;
          div.dataset.index = i;
          div.style.opacity = '0';
          div.style.transform = 'translateY(30px)';
          
          // Adicionar hover effect
          div.addEventListener('mouseenter', () => {
            if (!revealed) {
              div.style.transform = 'translateY(-2px) scale(1.02)';
            }
          });
          
          div.addEventListener('mouseleave', () => {
            if (!revealed) {
              div.style.transform = 'translateY(0) scale(1)';
            }
          });
          
          answersEl.appendChild(div);
          
          // Animar entrada das op√ß√µes
          setTimeout(() => {
            div.style.opacity = '1';
            div.style.transform = 'translateY(0)';
          }, 300 + (i * 100));
        });

        // Atualizar barra de progresso
        const progressPct = ((idx + 1) / quiz.length) * 100;
        barFill.style.width = `${progressPct}%`;

        stopTimer();
        time = 10;
        revealed = false;
        updateTimerUI();
      }

      function updateTimerUI() {
        countEl.textContent = time;
        const pct = (time / 10) * 100;
        ringEl.style.setProperty("--pct", pct);
        
        // Efeitos visuais baseados no tempo restante
        if (time <= 3) {
          ringEl.style.filter = "drop-shadow(0 0 20px rgba(239,68,68,.8))";
          ringEl.style.animation = "pulse 0.5s infinite";
          countEl.style.color = "#ef4444";
          countEl.style.textShadow = "0 0 15px rgba(239,68,68,0.8)";
        } else if (time <= 5) {
          ringEl.style.filter = "drop-shadow(0 0 15px rgba(249,115,22,.6))";
          ringEl.style.animation = "none";
          countEl.style.color = "#f97316";
          countEl.style.textShadow = "0 0 10px rgba(249,115,22,0.6)";
        } else {
          ringEl.style.filter = "drop-shadow(0 0 10px rgba(234,179,8,.4))";
          ringEl.style.animation = "none";
          countEl.style.color = "#f9fafb";
          countEl.style.textShadow = "0 0 10px rgba(234,179,8,0.8)";
        }
        
        // Anima√ß√£o suave para mudan√ßas de n√∫mero
        countEl.style.transform = "scale(1.1)";
        setTimeout(() => {
          countEl.style.transform = "scale(1)";
        }, 150);
      }

      function tick() {
        time -= 1;
        if (time < 0) time = 0;
        updateTimerUI();
        if (time <= 0) {
          stopTimer();
          playTimeUpAudio();
          // N√ÉO revelar automaticamente ‚Äî aguarda o clique do usu√°rio no bot√£o "Revelar"
          // Ajustes visuais para indicar tempo estourado
          ringEl.style.animation = "none";
          ringEl.style.filter = "drop-shadow(0 0 20px rgba(239,68,68,.8))";

          // Desabilitar intera√ß√µes nas op√ß√µes e dar feedback visual
          [...answersEl.children].forEach(node => {
            try {
              node.style.pointerEvents = 'none';
              node.style.opacity = '0.7';
            } catch (e) {
              // ignorar se n√£o houver elementos
            }
          });
        }
      }

      function playTimeUpAudio() {
        if (audioEnabled) {
          timeUpAudio.play().catch(e => {
            console.log("Erro ao reproduzir √°udio de tempo esgotado:", e);
          });
        }
      }

      function startTimer() {
        stopTimer();
        time = 10;
        updateTimerUI();
        
        // Parar intro e tocar √°udio da pergunta
        playQuestionAudio();
        
        timer = setInterval(tick, 1000);
      }

      function stopTimer() {
        if (timer) {
          clearInterval(timer);
          timer = null;
        }
      }

      function reveal() {
        if (revealed) return;
        revealed = true;
        const item = quiz[idx];
        
        [...answersEl.children].forEach((node, i) => {
          node.classList.remove("correct", "incorrect");
          
          setTimeout(() => {
            if (i === item.correct) {
              node.classList.add("correct");
              // Efeito de "pop" para a resposta correta
              node.style.transform = "scale(1.05)";
              setTimeout(() => {
                node.style.transform = "scale(1.02)";
              }, 200);
            } else {
              node.classList.add("incorrect");
              // Efeito de shake para respostas incorretas
              node.style.animation = "shake 0.5s ease-in-out";
            }
          }, i * 100);
        });
        
        // Parar anima√ß√£o do timer
        ringEl.style.animation = "none";
        ringEl.style.filter = "drop-shadow(0 0 20px rgba(34,197,94,.6))";
      }

      // Controls
      document.getElementById("startBtn").addEventListener("click", () => {
        startTimer();
        // O √°udio da pergunta j√° √© tocado dentro do startTimer()
      });
      
      document.getElementById("revealBtn").addEventListener("click", reveal);
      
      document.getElementById("nextBtn").addEventListener("click", () => {
        if (idx < quiz.length - 1) {
          idx++;
          render();
        }
      });
      
      document.getElementById("prevBtn").addEventListener("click", () => {
        if (idx > 0) {
          idx--;
          render();
        }
      });

      // Controle de √°udio
      document.getElementById("audioBtn").addEventListener("click", () => {
        audioEnabled = !audioEnabled;
        const audioBtn = document.getElementById("audioBtn");
        if (audioEnabled) {
          audioBtn.innerHTML = "üîä Som";
          audioBtn.title = "Som ligado - Clique para desligar";
          // Toca a intro imediatamente se ainda n√£o foi tocado
          if (!introPlayed) {
            playIntroAudio();
          }
        } else {
          audioBtn.innerHTML = "üîá Som";
          audioBtn.title = "Som desligado - Clique para ligar";
          stopAllAudio();
        }
      });

      // Fullscreen toggle
      document.getElementById("fsBtn").addEventListener("click", () => {
        if (!document.fullscreenElement) {
          document.documentElement.requestFullscreen();
        } else {
          document.exitFullscreen();
        }
      });

      // Keyboard shortcuts
      window.addEventListener("keydown", (e) => {
        const k = e.key.toLowerCase();
        if (k === " ") {
          e.preventDefault();
          startTimer();
        }
        if (k === "r") {
          reveal();
        }
        if (k === "n") {
          if (idx < quiz.length - 1) {
            idx++;
            render();
          }
        }
        if (k === "p") {
          if (idx > 0) {
            idx--;
            render();
          }
        }
        if (k === "f") {
          if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen();
          } else {
            document.exitFullscreen();
          }
        }
      });

      // Boot
      render();
      
      // Tentar reproduzir √°udio automaticamente quando a p√°gina carregar
      window.addEventListener('load', () => {
        setTimeout(() => {
          if (audioEnabled && !introPlayed) {
            introAudio.play().then(() => {
              introPlayed = true;
              console.log("Intro tocando automaticamente");
            }).catch(e => {
              console.log("Autoplay bloqueado, aguardando intera√ß√£o do usu√°rio");
              // Se o autoplay falhar, tenta novamente na primeira intera√ß√£o
              document.addEventListener('click', () => {
                if (!introPlayed && audioEnabled) {
                  introAudio.play().then(() => {
                    introPlayed = true;
                    console.log("Intro tocando ap√≥s clique");
                  }).catch(err => console.log("Erro ao tocar intro:", err));
                }
              }, { once: true });
              
              document.addEventListener('keydown', () => {
                if (!introPlayed && audioEnabled) {
                  introAudio.play().then(() => {
                    introPlayed = true;
                    console.log("Intro tocando ap√≥s tecla");
                  }).catch(err => console.log("Erro ao tocar intro:", err));
                }
              }, { once: true });
            });
          }
        }, 500); // Pequeno delay para garantir que tudo carregou
      });
    </script>
  </body>
</html>
